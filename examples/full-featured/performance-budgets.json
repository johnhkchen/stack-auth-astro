{
  "$schema": "../../schemas/performance-budgets.schema.json",
  "version": "1.0.0",
  "description": "Performance budgets for full-featured Astro Stack Auth example",
  
  "environments": {
    "production": {
      "description": "Production build performance budgets for full-featured example",
      "budgets": {
        "total": {
          "maxSize": "3mb",
          "warningSize": "2.5mb",
          "description": "Total example application size (includes Tailwind CSS)"
        },
        "html": {
          "maxSize": "600kb",
          "warningSize": "400kb",
          "description": "Generated HTML pages"
        },
        "clientJS": {
          "maxSize": "1.2mb",
          "warningSize": "1mb",
          "description": "Client-side JavaScript bundles with React components"
        },
        "css": {
          "maxSize": "400kb",
          "warningSize": "300kb",
          "description": "CSS stylesheets (includes Tailwind CSS)"
        },
        "assets": {
          "maxSize": "800kb",
          "warningSize": "600kb",
          "description": "Images and other static assets"
        }
      },
      "thresholds": {
        "sizeIncrease": {
          "maxPercent": 15,
          "warningPercent": 10,
          "description": "Size increase from baseline (examples are more volatile)"
        },
        "buildTime": {
          "maxSeconds": 60,
          "warningSeconds": 45,
          "description": "Build time for full-featured example with Tailwind"
        }
      }
    },
    
    "development": {
      "description": "Development build performance budgets for full-featured example",
      "budgets": {
        "total": {
          "maxSize": "8mb",
          "warningSize": "6mb",
          "description": "Total example application size (dev mode with Tailwind)"
        },
        "html": {
          "maxSize": "1.5mb",
          "warningSize": "1mb",
          "description": "Generated HTML pages with dev tooling"
        },
        "clientJS": {
          "maxSize": "3mb",
          "warningSize": "2.5mb",
          "description": "Client-side JavaScript with sourcemaps and React dev tools"
        },
        "css": {
          "maxSize": "1mb",
          "warningSize": "800kb",
          "description": "CSS with sourcemaps and full Tailwind in dev"
        },
        "assets": {
          "maxSize": "2mb",
          "warningSize": "1.5mb",
          "description": "Assets in dev mode"
        }
      },
      "thresholds": {
        "sizeIncrease": {
          "maxPercent": 30,
          "warningPercent": 20,
          "description": "More lenient for development builds"
        },
        "buildTime": {
          "maxSeconds": 120,
          "warningSeconds": 90,
          "description": "Dev build time for full-featured example"
        }
      }
    }
  },
  
  "defaultEnvironment": "production",
  
  "reporting": {
    "failOnBudgetExceeded": true,
    "warnOnBudgetWarning": true,
    "showDifferenceFromBaseline": true,
    "includeRecommendations": true,
    "outputFormat": "console",
    "ciIntegration": {
      "exitOnFailure": true,
      "createAnnotations": true,
      "generateReport": true,
      "reportPath": "build-performance-report.json"
    }
  },
  
  "baseline": {
    "enabled": true,
    "baselineFile": "performance-baseline.json",
    "updateBaseline": false,
    "compareAgainstBranch": "main"
  }
}